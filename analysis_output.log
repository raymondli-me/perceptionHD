============================================================
PerceptionHD Analysis with Progress Tracking
============================================================
=== PerceptionHD Pipeline ===
Analyzing: X vs Y Analysis

1. Loading data...
Loading data:   0%|          | 0/3 [00:00<?, ?it/s]Loading data: 100%|██████████| 3/3 [00:00<00:00, 44.25it/s]
   ✓ Loaded 9513 samples
   ✓ Embeddings shape: (9513, 4096)

2. Computing PCA...
PCA computation:   0%|          | 0/2 [00:00<?, ?it/s]PCA: Fitting model:   0%|          | 0/2 [00:00<?, ?it/s]PCA: Fitting model:  50%|█████     | 1/2 [00:02<00:02,  2.74s/it]PCA: Transforming data:  50%|█████     | 1/2 [00:02<00:02,  2.74s/it]PCA: Transforming data: 100%|██████████| 2/2 [00:02<00:00,  1.39s/it]
   ✓ 200 components explain 73.6% variance

3. Computing UMAP...
   Fitting UMAP model (this may take 30-60 seconds)...
   Computing nearest neighbors...
UMAP(n_components=3, n_jobs=1, random_state=42, verbose=True)
Wed May 28 15:12:37 2025 Construct fuzzy simplicial set
Wed May 28 15:12:37 2025 Finding Nearest Neighbors
Wed May 28 15:12:37 2025 Building RP forest with 10 trees
Wed May 28 15:12:39 2025 NN descent for 13 iterations
	 1  /  13
	 2  /  13
	 3  /  13
	 4  /  13
	 5  /  13
	Stopping threshold met -- exiting after 5 iterations
Wed May 28 15:12:46 2025 Finished Nearest Neighbor Search
Wed May 28 15:12:48 2025 Construct embedding
Epochs completed:   0%|            0/500 [00:00]Epochs completed:   0%|            1/500 [00:00]Epochs completed:   2%| ▏          11/500 [00:00]Epochs completed:   4%| ▍          19/500 [00:00]Epochs completed:   5%| ▌          27/500 [00:00]Epochs completed:   7%| ▋          35/500 [00:00]Epochs completed:   9%| ▊          43/500 [00:00]Epochs completed:  10%| █          51/500 [00:00]Epochs completed:  12%| █▏         59/500 [00:01]Epochs completed:  13%| █▎         67/500 [00:01]Epochs completed:  15%| █▌         75/500 [00:01]Epochs completed:  17%| █▋         83/500 [00:01]Epochs completed:  18%| █▊         91/500 [00:01]Epochs completed:  20%| █▉         99/500 [00:01]Epochs completed:  21%| ██▏        107/500 [00:01]Epochs completed:  23%| ██▎        115/500 [00:01]Epochs completed:  25%| ██▍        123/500 [00:01]Epochs completed:  26%| ██▌        131/500 [00:01]Epochs completed:  28%| ██▊        139/500 [00:02]Epochs completed:  29%| ██▉        147/500 [00:02]Epochs completed:  31%| ███        155/500 [00:02]Epochs completed:  33%| ███▎       163/500 [00:02]Epochs completed:  34%| ███▍       171/500 [00:02]Epochs completed:  36%| ███▌       179/500 [00:02]Epochs completed:  37%| ███▋       187/500 [00:02]Epochs completed:  39%| ███▉       195/500 [00:02]Epochs completed:  41%| ████       203/500 [00:02]Epochs completed:  42%| ████▏      211/500 [00:02]Epochs completed:  44%| ████▍      219/500 [00:03]Epochs completed:  45%| ████▌      227/500 [00:03]Epochs completed:  47%| ████▋      235/500 [00:03]Epochs completed:  49%| ████▊      243/500 [00:03]Epochs completed:  50%| █████      251/500 [00:03]Epochs completed:  52%| █████▏     259/500 [00:03]Epochs completed:  53%| █████▎     267/500 [00:03]Epochs completed:  55%| █████▌     275/500 [00:03]Epochs completed:  57%| █████▋     283/500 [00:03]Epochs completed:  58%| █████▊     291/500 [00:03]Epochs completed:  60%| █████▉     299/500 [00:04]Epochs completed:  61%| ██████▏    307/500 [00:04]Epochs completed:  63%| ██████▎    315/500 [00:04]Epochs completed:  65%| ██████▍    323/500 [00:04]Epochs completed:  66%| ██████▌    331/500 [00:04]Epochs completed:  68%| ██████▊    339/500 [00:04]Epochs completed:  69%| ██████▉    347/500 [00:04]Epochs completed:  71%| ███████    355/500 [00:04]Epochs completed:  73%| ███████▎   363/500 [00:04]Epochs completed:  74%| ███████▍   371/500 [00:05]Epochs completed:  76%| ███████▌   379/500 [00:05]Epochs completed:  77%| ███████▋   387/500 [00:05]Epochs completed:  79%| ███████▉   395/500 [00:05]Epochs completed:  81%| ████████   403/500 [00:05]Epochs completed:  82%| ████████▏  411/500 [00:05]Epochs completed:  84%| ████████▍  419/500 [00:05]Epochs completed:  85%| ████████▌  427/500 [00:05]Epochs completed:  87%| ████████▋  435/500 [00:05]Epochs completed:  89%| ████████▊  443/500 [00:05]Epochs completed:  90%| █████████  451/500 [00:06]Epochs completed:  92%| █████████▏ 459/500 [00:06]Epochs completed:  93%| █████████▎ 467/500 [00:06]Epochs completed:  95%| █████████▌ 475/500 [00:06]Epochs completed:  97%| █████████▋ 483/500 [00:06]Epochs completed:  98%| █████████▊ 491/500 [00:06]Epochs completed: 100%| █████████▉ 499/500 [00:06]Epochs completed: 100%| ██████████ 500/500 [00:06]
	completed  0  /  500 epochs
	completed  50  /  500 epochs
	completed  100  /  500 epochs
	completed  150  /  500 epochs
	completed  200  /  500 epochs
	completed  250  /  500 epochs
	completed  300  /  500 epochs
	completed  350  /  500 epochs
	completed  400  /  500 epochs
	completed  450  /  500 epochs
Wed May 28 15:12:54 2025 Finished embedding
   ✓ 3D projection complete in 17.8s

4. Computing XGBoost contributions...
XGBoost training:   0%|          | 0/4 [00:00<?, ?it/s]Training XGBoost for X variable:   0%|          | 0/4 [00:00<?, ?it/s]Training XGBoost for X variable:  25%|██▌       | 1/4 [00:01<00:03,  1.12s/it]Training XGBoost for Y variable:  25%|██▌       | 1/4 [00:01<00:03,  1.12s/it]Training XGBoost for Y variable:  50%|█████     | 2/4 [00:01<00:01,  1.31it/s]Computing PC contributions:  50%|█████     | 2/4 [00:01<00:01,  1.31it/s]     Computing R² scores:  75%|███████▌  | 3/4 [00:01<00:00,  1.31it/s]       Computing R² scores: 100%|██████████| 4/4 [00:01<00:00,  2.43it/s]
   ✓ Text → X R²: 0.524
   ✓ Text → Y R²: 0.612

5. Computing Double Machine Learning...

   Selecting top PCs using XGBoost feature importance...

   Feature importance stats:
   X - max importance: 0.0111, top 5 sum: 0.0452
   Y - max importance: 0.0604, top 5 sum: 0.1485
   Combined - max: 0.0356, top 5 sum: 0.0944
   Top 5 PCs for X: [2, 0, 26, 1, 35]
   Top 5 PCs for Y: [0, 2, 5, 1, 3]
   Combined unique PCs (5 total): [0, 2, 5, 1, 25]
   Computing crossfitted R² values...
DML analysis:   0%|          | 0/3 [00:00<?, ?it/s]DML: Computing naive estimate:   0%|          | 0/3 [00:00<?, ?it/s]DML: Fitting with 200 PCs (5-fold CV):  33%|███▎      | 1/3 [00:00<00:00, 3068.25it/s]   Running 5-fold cross-validation for 200 PCs...
     Fold 1/5...     Fold 2/5...     Fold 3/5...     Fold 4/5...     Fold 5/5...DML: Fitting with 200 PCs (5-fold CV):  67%|██████▋   | 2/3 [00:18<00:09,  9.17s/it]  DML: Fitting with top 5 PCs (5-fold CV):  67%|██████▋   | 2/3 [00:18<00:09,  9.17s/it] Done!
   Running 5-fold cross-validation for top 5 PCs...
     Fold 1/5...     Fold 2/5...     Fold 3/5...     Fold 4/5...     Fold 5/5...DML: Fitting with top 5 PCs (5-fold CV): 100%|██████████| 3/3 [00:19<00:00,  5.99s/it]DML: Fitting with top 5 PCs (5-fold CV): 100%|██████████| 3/3 [00:19<00:00,  6.62s/it]
 Done!

   ✓ DML Results:
     - Naive θ: 0.138 (p=0.0000)
     - DML θ (200 PCs): 0.077 (p=0.0000)
     - DML θ (top 5 PCs): 0.070 (p=0.0000)

6. Computing HDBSCAN clustering...
HDBSCAN clustering:   0%|          | 0/1 [00:00<?, ?it/s]HDBSCAN clustering: 100%|██████████| 1/1 [00:00<00:00,  4.71it/s]HDBSCAN clustering: 100%|██████████| 1/1 [00:00<00:00,  4.70it/s]
   ✓ Found 29 clusters (2964 noise points)

7. Extracting topic keywords...
Topic extraction:   0%|          | 0/30 [00:00<?, ?it/s]Preparing cluster documents:   0%|          | 0/30 [00:00<?, ?it/s]Computing TF-IDF:   3%|▎         | 1/30 [00:00<00:00, 286.22it/s]  Extracting keywords for cluster 0:   3%|▎         | 1/30 [00:00<00:25,  1.12it/s]Extracting keywords for cluster 0:   7%|▋         | 2/30 [00:00<00:12,  2.24it/s]Extracting keywords for cluster 1:   7%|▋         | 2/30 [00:00<00:12,  2.24it/s]Extracting keywords for cluster 2:  10%|█         | 3/30 [00:00<00:12,  2.24it/s]Extracting keywords for cluster 3:  13%|█▎        | 4/30 [00:00<00:11,  2.24it/s]Extracting keywords for cluster 4:  17%|█▋        | 5/30 [00:00<00:11,  2.24it/s]Extracting keywords for cluster 5:  20%|██        | 6/30 [00:00<00:10,  2.24it/s]Extracting keywords for cluster 6:  23%|██▎       | 7/30 [00:00<00:10,  2.24it/s]Extracting keywords for cluster 7:  27%|██▋       | 8/30 [00:00<00:09,  2.24it/s]Extracting keywords for cluster 8:  30%|███       | 9/30 [00:00<00:09,  2.24it/s]Extracting keywords for cluster 9:  33%|███▎      | 10/30 [00:00<00:08,  2.24it/s]Extracting keywords for cluster 10:  37%|███▋      | 11/30 [00:00<00:08,  2.24it/s]Extracting keywords for cluster 11:  40%|████      | 12/30 [00:00<00:08,  2.24it/s]Extracting keywords for cluster 12:  43%|████▎     | 13/30 [00:00<00:07,  2.24it/s]Extracting keywords for cluster 13:  47%|████▋     | 14/30 [00:00<00:07,  2.24it/s]Extracting keywords for cluster 14:  50%|█████     | 15/30 [00:00<00:06,  2.24it/s]Extracting keywords for cluster 15:  53%|█████▎    | 16/30 [00:00<00:06,  2.24it/s]Extracting keywords for cluster 16:  57%|█████▋    | 17/30 [00:00<00:05,  2.24it/s]Extracting keywords for cluster 17:  60%|██████    | 18/30 [00:00<00:05,  2.24it/s]Extracting keywords for cluster 18:  63%|██████▎   | 19/30 [00:00<00:04,  2.24it/s]Extracting keywords for cluster 19:  67%|██████▋   | 20/30 [00:00<00:04,  2.24it/s]Extracting keywords for cluster 20:  70%|███████   | 21/30 [00:00<00:04,  2.24it/s]Extracting keywords for cluster 21:  73%|███████▎  | 22/30 [00:00<00:03,  2.24it/s]Extracting keywords for cluster 22:  77%|███████▋  | 23/30 [00:00<00:03,  2.24it/s]Extracting keywords for cluster 23:  80%|████████  | 24/30 [00:00<00:02,  2.24it/s]Extracting keywords for cluster 24:  83%|████████▎ | 25/30 [00:00<00:02,  2.24it/s]Extracting keywords for cluster 25:  87%|████████▋ | 26/30 [00:00<00:01,  2.24it/s]Extracting keywords for cluster 26:  90%|█████████ | 27/30 [00:00<00:01,  2.24it/s]Extracting keywords for cluster 27:  93%|█████████▎| 28/30 [00:00<00:00,  2.24it/s]Extracting keywords for cluster 28:  97%|█████████▋| 29/30 [00:00<00:00,  2.24it/s]Extracting keywords for cluster 28: 100%|██████████| 30/30 [00:00<00:00, 33.52it/s]
   ✓ Extracted keywords for 29 topics

8. Calculating statistics...
Computing statistics:   0%|          | 0/3 [00:00<?, ?it/s]Computing essay statistics:   0%|          | 0/3 [00:00<?, ?it/s]Computing cluster statistics:  33%|███▎      | 1/3 [00:00<00:00, 7049.25it/s]Computing PC statistics:  67%|██████▋   | 2/3 [00:00<00:00, 2004.45it/s]     Computing PC statistics: 100%|██████████| 3/3 [00:00<00:00, 20.51it/s]  Computing PC statistics: 100%|██████████| 3/3 [00:00<00:00, 20.49it/s]
   ✓ Statistics computed

9. Saving results...
   ✓ Results saved to /media/raymondli/Crucial X9/2025_05_23_VLLM_IPAD_ANALYSES/perceptionHD/progress_output/analysis_results.pkl

10. Generating visualization...
✓ Fully generic visualization saved to /media/raymondli/Crucial X9/2025_05_23_VLLM_IPAD_ANALYSES/perceptionHD/progress_output/perception_hd_visualization.html

============================================================
✅ ANALYSIS COMPLETE in 74.9 seconds!
============================================================

📊 Results: /media/raymondli/Crucial X9/2025_05_23_VLLM_IPAD_ANALYSES/perceptionHD/progress_output/analysis_results.pkl
🌐 Visualization: /media/raymondli/Crucial X9/2025_05_23_VLLM_IPAD_ANALYSES/perceptionHD/progress_output/perception_hd_visualization.html

To view the results, open:
  file:///media/raymondli/Crucial X9/2025_05_23_VLLM_IPAD_ANALYSES/perceptionHD/progress_output/perception_hd_visualization.html
